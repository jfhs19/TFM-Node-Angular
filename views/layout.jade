doctype
html(ng-app='myApp')

  head
    title= title
    link(rel='stylesheet', href='/stylesheets/style.css')
    link(rel='stylesheet', href='/stylesheets/bootstrap-social.css')
    link(rel='stylesheet', href='https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css')
    link(rel='stylesheet', href='//netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap-theme.min.css')
    link(rel='stylesheet', href='//netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap.min.css')
    link(rel='stylesheet', href='//netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap-social.min.css')
    link(rel='stylesheet', href='http://ajax.googleapis.com/ajax/libs/angular_material/1.1.0-rc2/angular-material.min.css')
    meta(name='viewport', content='initial-scale=1, maximum-scale=1, user-scalable=no')
    link(rel='stylesheet', href='/node_modules/angular-material/angular-material.css')
    link(rel='stylesheet', href='//fonts.googleapis.com/icon?family=Material+Icons')
    link(href='http://fonts.which is googleapis.com/css?family=Roboto:400,300,300italic,500,400italic,700,700italic', rel='stylesheet', type='text/css')
    link(rel='stylesheet', href='//storage.googleapis.com/code.getmdl.io/1.0.1/material.teal-red.min.css')
    script(src='//storage.googleapis.com/code.getmdl.io/1.0.1/material.min.js')

    script(src='https://maps.google.com/maps/api/js?libraries=placeses,visualization,drawing,geometry,places')
    script(src='https://code.angularjs.org/1.3.15/angular.js')
    script(src='https://rawgit.com/allenhwkim/angularjs-google-maps/master/build/scripts/ng-map.js')
    script.
      var app = angular.module('myApp', ['ngMap']);
      app.controller('mapController', function($interval, $http) {
      var vm = this;
      vm.positions = [];
      var generateMarkers = function() {
      $http.get("data").
      success(function(data) {
      console.log(data);
      console.log("length array" + data.length);
      vm.positions=data;
      console.log("vm.positions", vm.positions);
      }).
      error(function (data) {
      console.log("fallo");
      });
      };
      $interval(generateMarkers, 20000);
      });

  body
    block content